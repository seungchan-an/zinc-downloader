[tox]
envlist =
    py39,
    py310,
    py311,
    py312,
    py313,
    py310-old-deps,
    py311-latest-deps,
    py313-latest-deps

[testenv]
deps =
    pytest>=8.0
    click>=8.0.0
    aiohttp>=3.13
    aiofiles>=22.1
    tqdm>=4.48.0
commands = pytest -v

# ---- Python version environments ----

[testenv:py39]
basepython = python3.9

[testenv:py310]
basepython = python3.10

[testenv:py311]
basepython = python3.11

[testenv:py312]
basepython = python3.12

[testenv:py313]
basepython = python3.13

# ---- Compatibility dependency sets ----

[testenv:py310-old-deps]
basepython = python3.10
deps =
    pytest>=8.0,<9.0
    click==8.1.8
    aiohttp==3.9.5
    aiofiles==23.2.1
    tqdm==4.66.3

[testenv:py311-latest-deps]
basepython = python3.11
deps =
    pytest>=9.0
    click>=8.1.8
    aiohttp>=3.13
    aiofiles>=25.1
    tqdm>=4.67

[testenv:py313-latest-deps]
basepython = python3.13
deps =
    pytest>=9.0
    click>=8.1.8
    aiohttp>=3.13
    aiofiles>=25.1
    tqdm>=4.67
